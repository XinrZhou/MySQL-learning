# MySQL学习笔记

### 索引

存储引擎用来快速查找记录的一种数据结构，不使用索引必须从第一条记录开始读完整个表。默认为树型索引

#### 分类

- 按实现方式：
  - Hash索引
  - B+Tree索引
- 按功能：
  - 单列索引
    - 普通索引：关键字index
    - 唯一索引：列的值必须唯一但允许为空，关键字unique
    - 主键索引：MySQL自动在主键列上建一个索引
  - 组合索引：复合最左原则，条件中必须包含索引前面的字段才能进行匹配
  - 全文索引：主要用来查找文本中的关键字，而不直接与索引中的值比较，关键字fulltext
  - 空间索引

#### 索引的原理

- 索引以索引文件的形式存储在磁盘上，索引的结构组织要尽量减少查找过程中磁盘I/O的存取次数
- HASH算法
  - 优点：通过字段值计算hash值，定位数据快
  - 缺点：不能进行范围查找，散列表中的值无序
- BTREE树：目前大部分DBS及FS都采用B-TREE或B+TREE作为索引结构
  - MylSAM引擎：叶子节点data域存放数据记录的地址
  - InnoDB：data域存放数据，效率比MylSAM引擎高，但占硬盘内存大

#### 创建索引的原则

- 更新频繁的列不设置索引
- 数据量小的表不设置索引
- 重复数据多的字段不应设置为索引
- 首先考虑对where和order by涉及的列上建索引

